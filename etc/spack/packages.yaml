packages:
  all:
    compiler:
      - gcc@7.4.0
      - pgi@19.10
    providers:
      blas: [netlib-lapack]
      lapack: [netlib-lapack]
      mpi: [mpich]
      scalapack: [netlib-scalapack]

  mpich: 
    version: [3.3]
    paths:
      'mpich@3.3 %gcc@7.4.0': /usr

  cuda:
    paths:
      cuda: /usr/local/cuda-10.2

  libfabric:
    variants: "fabrics=sockets"
    paths:
      'libfabric % pgi': /usr

  adios2:
    version: [2.5.0, develop]
    variants: '+python build_type=Release'
    
  effis:
    version: [develop]

  yaml-cpp:
    version: [0.6.3]

  kokkos-cmake:
    version: [3.1.00]
    variants: 'host_arch=SKX'
    paths:
      'kokkos-cmake +serial +aggressive_vectorization cxxstd=11 +openmp host_arch=SKX +cuda +enable_lambda gpu_arch=Turing75 % pgi': /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/kokkos-cmake-3.1.00-rbcd77cpooz47dqquxxqcfgm5x3usisj
  
  cabana:
    version: [develop]
    paths:
      'cabana +mpi % pgi ^kokkos-cmake@3.1.00 +serial +aggressive_vectorization cxxstd=11 host_arch=SKX +openmp +cuda +enable_lambda gpu_arch=Turing75': /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/cabana-develop-eammc26sg5sqbwyv7v7lcehkbxdrfpcv

  texlive:
    paths:
      texlive: /usr

  libelf:
    paths:
      libelf: /usr/x86_64-linux-gnu/

  libdwarf:
    paths:
      libdwarf: /usr/x86_64-linux-gnu/


  ### These don't build correctly with PGI ###
  c-blosc:
    paths:
      'c-blosc % pgi': /usr

  cmake:
    paths:
      'cmake % pgi': /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/cmake-3.15.4-ws6w22pub7i7durz7njjdzg2hhfxytvc

  findutils:
    paths:
      'findutils % pgi': /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/findutils-4.6.0-squc4ajl2hmbp2kenqicu3djkhwll2xb

  fftw:
    paths:
      'fftw % pgi': /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/fftw-3.3.8-pyizj2aqcxcyovpsa5wbceulctcqm7dl

  gettext:
    paths:
      'gettext % pgi': /usr

  hwloc:
    version: [1.11.11]
    paths:
      'hwloc % pgi': /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/hwloc-1.11.11-axtf7nougb5ku23shdiqqwjqzmefnmjo

  libbsd:
    paths:
      'libbsd % pgi': /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/libbsd-0.9.1-mbafpzggss7dmmq6qqu2ogq6eixp7lx5

  libffi:
    paths:
      'libffi % pgi': /usr/x86_64-linux-gnu

  libpciaccess:
    paths:
      'libpciaccess % pgi': /usr/x86_64-linux-gnu

  libyaml:
    paths:
      'libyaml % pgi': /usr/x86_64-linux-gnu

  lz4:
    paths:
      'lz4 % pgi': /usr/x86_64-linux-gnu

  numactl:
    paths:
      'numactl % pgi': /usr/x86_64-linux-gnu

  openssl:
    paths:
      'openssl % pgi': /usr

  perl:
    paths:
      'perl % pgi': /usr

  pkg-config:
    paths:
      'pkg-config % pgi': /usr

  python:
    version: [3.7.4, 2.7.16]
    paths:
      'python@2.7.16 % pgi': /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/python-2.7.16-gdaqnr4f7lni4hxaghf2gkrsa24rgdxs
      'python@3.7.4  % pgi': /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/python-3.7.4-3attiwvrsbdbbiqas6igyqmvvyusy2vq

  py-mpi4py:
    paths:
      'py-mpi4py % pgi ^ python@2.7.16': /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/py-mpi4py-3.0.1-3u3w2fiyqpwivfv5bdkj4stn7kteur7d
      'py-mpi4py % pgi ^ python@3.7.4':  /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/py-mpi4py-3.0.1-4hxyd7sjm6gfjdc6nfljy7cx3ritpkx2

  py-numpy:
    version: [1.16.5]
    paths:
      'py-numpy % pgi ^ python@2.7.16': /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/py-numpy-1.16.5-of7pnknf2jzxps3ebao2wwupnaprtvp7
      'py-numpy % pgi ^ python@3.7.4':  /home/eqs/spack/opt/spack/linux-ubuntu18.04-skylake_avx512/gcc-7.4.0/py-numpy-1.16.5-eghbdm2xevn65nrxwufwd4bfbqkhpcfx

  zeromq:
    paths:
      'zeromq % pgi': /usr/x86_64-linux-gnu

  zstd:
    paths:
      'zstd % pgi': /usr/x86_64-linux-gnu
  ###########################################
